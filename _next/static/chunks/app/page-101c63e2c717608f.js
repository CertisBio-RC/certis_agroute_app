(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{2791:(e,r,t)=>{Promise.resolve().then(t.bind(t,2212))},2212:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>n});var s=t(7437),l=t(6648),a=t(2265),o=t(7719),i=t.n(o);function c(e){let{selectedCategories:r,onAddStop:t}=e,l=(0,a.useRef)(null),o=(0,a.useRef)(null);return(0,a.useEffect)(()=>{o.current||(o.current=new(i()).Map({container:l.current,style:"mapbox://styles/mapbox/satellite-streets-v12",center:[-93.5,41.7],zoom:5}),o.current.on("load",async()=>{try{let e=await fetch("/certis_agroute_app/data/retailers.geojson?ts=".concat(Date.now())),r=await e.json();o.current.addSource("retailers",{type:"geojson",data:r}),o.current.addLayer({id:"retailers-layer",type:"circle",source:"retailers",paint:{"circle-radius":6,"circle-color":"#ffcc00","circle-stroke-color":"#000","circle-stroke-width":1}}),o.current.on("click","retailers-layer",e=>{var r;let s=null===(r=e.features)||void 0===r?void 0:r[0];if(!s)return;let l="Point"===s.geometry.type?s.geometry.coordinates:null,a=s.properties;l&&(new(i()).Popup().setLngLat(l).setHTML("<strong>".concat(a.Retailer||"Retailer","</strong><br/>").concat(a.Address||"Address")).addTo(o.current),t&&a.Retailer&&t(a.Retailer))})}catch(e){console.error("❌ Failed to load retailers.geojson",e)}}))},[r,t]),(0,s.jsx)("div",{ref:l,className:"map-container w-full h-full"})}function n(){return(0,s.jsxs)("div",{className:"app-container grid grid-rows-[1fr_auto] h-screen",children:[(0,s.jsxs)("div",{className:"flex",children:[(0,s.jsxs)("aside",{className:"sidebar w-80 bg-gray-900 text-white flex flex-col p-4",children:[(0,s.jsx)("div",{className:"logo",children:(0,s.jsx)(l.default,{src:"/certislogo.png",alt:"Certis Biologicals Logo",width:180,height:60,priority:!0})}),(0,s.jsx)("h1",{className:"text-xl font-bold mb-4",children:"Certis AgRoute Planner"}),(0,s.jsx)("button",{className:"mb-4 bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded",children:"Clear All"}),(0,s.jsx)("div",{className:"flex-1 overflow-y-auto",children:Array.from({length:7}).map((e,r)=>(0,s.jsx)("div",{className:"card bg-gray-800 p-2 mb-2 rounded",children:"Card ".concat(r+1)},r))})]}),(0,s.jsx)("main",{className:"map-container flex-1 h-full",children:(0,s.jsx)(c,{selectedCategories:[]})})]}),(0,s.jsxs)("footer",{className:"footer",children:[(0,s.jsx)("button",{className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded",children:"Optimize Trip & Export"}),(0,s.jsx)("div",{children:"Status: 0 Kingpins, 0 Agronomy Locations, 0 Retailers"})]})]})}i().accessToken="pk.eyJ1IjoiZG9jamJhaWxleTE5NzEiLCJhIjoiY21ld3lzZTNqMGQwdzJxb2lwNHpjcjNveiJ9.T2O5szdwL-O5nDF9BJmFnw"}},e=>{var r=r=>e(e.s=r);e.O(0,[415,648,130,215,744],()=>r(2791)),_N_E=e.O()}]);