(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{2791:(e,r,t)=>{Promise.resolve().then(t.bind(t,2212))},2212:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>g});var c=t(7437),a=t(2265),i=t(7719),o=t.n(i);o().accessToken="pk.eyJ1IjoiZG9jamJhaWxleTE5NzEiLCJhIjoiY21ld3lzZTNqMGQwdzJxb2lwNHpjcjNveiJ9.T2O5szdwL-O5nDF9BJmFnw";let s={Agronomy:"#1f77b4","Agronomy/Grain":"#1f77b4",Kingpin:"#ff0000","Office/Service":"#20b2aa",Grain:"#ffd700","Grain/Feed":"#ffd700",Distribution:"#000000"};function n(e){let{selectedCategories:r,onAddStop:t}=e,i=(0,a.useRef)(null),n=(0,a.useRef)(null);return(0,a.useEffect)(()=>{n.current||(n.current=new(o()).Map({container:i.current,style:"mapbox://styles/mapbox/satellite-streets-v12",center:[-93.5,41.5],zoom:5,projection:"mercator"}),n.current.on("load",()=>{fetch("".concat("/certis_agroute_app","/data/retailers.geojson?cacheBust=").concat(Date.now())).then(e=>e.json()).then(e=>{n.current&&(n.current.getSource("retailers")&&(n.current.removeLayer("retailer-points"),n.current.removeSource("retailers")),n.current.addSource("retailers",{type:"geojson",data:e}),n.current.addLayer({id:"retailer-points",type:"circle",source:"retailers",paint:{"circle-radius":["case",["==",["get","category"],"Kingpin"],7,5],"circle-color":["case",["==",["get","category"],"Kingpin"],"#ff0000",["==",["get","category"],"Agronomy"],s.Agronomy,["==",["get","category"],"Agronomy/Grain"],s["Agronomy/Grain"],["==",["get","category"],"Office/Service"],s["Office/Service"],["==",["get","category"],"Grain"],s.Grain,["==",["get","category"],"Grain/Feed"],s["Grain/Feed"],["==",["get","category"],"Distribution"],s.Distribution,"#aaaaaa"],"circle-stroke-width":["case",["==",["get","category"],"Kingpin"],2,["==",["get","category"],"Distribution"],2,1],"circle-stroke-color":["case",["==",["get","category"],"Kingpin"],"#ffff00",["==",["get","category"],"Distribution"],"#ffffff","#000000"]}}))}).catch(e=>console.error("❌ Failed to load GeoJSON:",e))}))},[]),(0,c.jsx)("div",{ref:i,className:"w-full h-full"})}var l=t(6648);function g(){let[e,r]=(0,a.useState)([]),t=e=>{r(r=>r.includes(e)?r.filter(r=>r!==e):[...r,e])};return(0,c.jsxs)("div",{className:"flex h-screen",children:[(0,c.jsxs)("div",{className:"w-64 bg-gray-100 dark:bg-gray-900 p-4 overflow-y-auto",children:[(0,c.jsx)("div",{className:"flex items-center space-x-2 mb-6",children:(0,c.jsx)(l.default,{src:"".concat("/certis_agroute_app","/certis-logo.png"),alt:"Certis Logo",width:150,height:50,priority:!0})}),(0,c.jsx)("h2",{className:"text-lg font-bold mb-2",children:"Categories"}),(0,c.jsx)("ul",{className:"space-y-2",children:Object.keys(s).map(r=>(0,c.jsx)("li",{children:(0,c.jsxs)("label",{className:"flex items-center space-x-2 cursor-pointer",children:[(0,c.jsx)("input",{type:"checkbox",checked:e.includes(r),onChange:()=>t(r)}),(0,c.jsx)("span",{className:"w-4 h-4 inline-block rounded-full",style:{backgroundColor:s[r]}}),(0,c.jsx)("span",{children:r})]})},r))})]}),(0,c.jsx)("div",{className:"flex-1",children:(0,c.jsx)(n,{selectedCategories:e,onAddStop:e=>console.log("Added stop:",e)})})]})}}},e=>{var r=r=>e(e.s=r);e.O(0,[415,648,130,215,744],()=>r(2791)),_N_E=e.O()}]);