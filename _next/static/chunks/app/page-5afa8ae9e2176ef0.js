(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{2791:(e,r,t)=>{Promise.resolve().then(t.bind(t,2212))},2212:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>d});var l=t(7437),c=t(2265),s=t(7719),a=t.n(s);a().accessToken="pk.eyJ1IjoiZG9jamJhaWxleTE5NzEiLCJhIjoiY21ld3lzZTNqMGQwdzJxb2lwNHpjcjNveiJ9.T2O5szdwL-O5nDF9BJmFnw";let o={Agronomy:{color:"#1f77b4"},"Agronomy/Grain":{color:"#17becf"},"Office/Service":{color:"#ff7f0e"},Grain:{color:"#ffbb78"},"Grain/Feed":{color:"#bcbd22"},Distribution:{color:"#2ca02c"},Feed:{color:"#9467bd"},Kingpin:{color:"#d62728"}};function n(e){let{selectedCategories:r}=e,t=(0,c.useRef)(null),s=(0,c.useRef)(null),[n,i]=(0,c.useState)(null);return(0,c.useEffect)(()=>{s.current||(s.current=new(a()).Map({container:t.current,style:"mapbox://styles/mapbox/satellite-streets-v12",center:[-93.5,41.5],zoom:4}),fetch("".concat("/certis_agroute_app","/retailers.geojson")).then(e=>e.json()).then(e=>{i(e),s.current&&e.features&&s.current.on("load",()=>{var r,t,l;(null===(r=s.current)||void 0===r?void 0:r.getSource("retailers"))||(null===(t=s.current)||void 0===t||t.addSource("retailers",{type:"geojson",data:e}),null===(l=s.current)||void 0===l||l.addLayer({id:"retailers-circle",type:"circle",source:"retailers",paint:{"circle-radius":5,"circle-color":["match",["get","Category"],...Object.entries(o).flatMap(e=>{let[r,t]=e;return[r,t.color]}),"#ccc"],"circle-stroke-color":"#000","circle-stroke-width":.5}}))})}).catch(e=>console.error("❌ Error loading retailers.geojson:",e)))},[]),(0,c.useEffect)(()=>{s.current&&n&&s.current.getLayer("retailers-circle")&&s.current.setFilter("retailers-circle",["any",["match",["get","Category"],r,!0,!1]])},[r,n]),(0,l.jsx)("div",{ref:t,className:"w-full h-full"})}var i=t(6648);function d(){let[e,r]=(0,c.useState)([]),t=e=>{r(r=>r.includes(e)?r.filter(r=>r!==e):[...r,e])};return(0,l.jsxs)("div",{className:"flex h-screen w-screen",children:[(0,l.jsxs)("aside",{className:"w-64 bg-gray-100 dark:bg-gray-900 p-4 border-r border-gray-300 dark:border-gray-700 overflow-y-auto",children:[(0,l.jsx)("div",{className:"flex items-center justify-center mb-6",children:(0,l.jsx)(i.default,{src:"".concat("/certis_agroute_app","/certis-logo.png"),alt:"Certis Logo",width:180,height:60,priority:!0})}),(0,l.jsx)("h2",{className:"text-lg font-bold mb-3 text-gray-800 dark:text-gray-200",children:"Categories"}),(0,l.jsxs)("div",{className:"flex space-x-2 mb-4",children:[(0,l.jsx)("button",{onClick:()=>{r(Object.keys(o))},className:"px-2 py-1 bg-blue-600 text-white rounded text-sm hover:bg-blue-700",children:"Select All"}),(0,l.jsx)("button",{onClick:()=>{r([])},className:"px-2 py-1 bg-gray-600 text-white rounded text-sm hover:bg-gray-700",children:"Clear All"})]}),(0,l.jsx)("ul",{className:"space-y-2",children:Object.entries(o).map(r=>{let[c,s]=r;return(0,l.jsxs)("li",{className:"flex items-center",children:[(0,l.jsx)("input",{type:"checkbox",id:"filter-".concat(c),checked:e.includes(c),onChange:()=>t(c),className:"mr-2"}),(0,l.jsxs)("label",{htmlFor:"filter-".concat(c),className:"flex items-center text-gray-700 dark:text-gray-300",children:[(0,l.jsx)("span",{className:"inline-block w-4 h-4 mr-2 rounded-full border",style:{backgroundColor:s.color,borderColor:s.outline||"#000"}}),c]})]},c)})})]}),(0,l.jsx)("main",{className:"flex-1 relative",children:(0,l.jsx)(n,{selectedCategories:e})})]})}}},e=>{var r=r=>e(e.s=r);e.O(0,[415,648,130,215,744],()=>r(2791)),_N_E=e.O()}]);