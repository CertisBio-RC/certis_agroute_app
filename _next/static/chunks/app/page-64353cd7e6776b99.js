(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{2791:(e,r,t)=>{Promise.resolve().then(t.bind(t,2212))},2212:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>c});var i=t(7437),l=t(2265),s=t(7719),a=t.n(s);function n(e){let{selectedCategories:r,onAddStop:t}=e,s=(0,l.useRef)(null),n=(0,l.useRef)(null),[o,c]=(0,l.useState)({kingpins:0,retailers:0});return(0,l.useEffect)(()=>{n.current||(n.current=new(a()).Map({container:s.current,style:"mapbox://styles/mapbox/satellite-streets-v12",center:[-93.5,41.5],zoom:5,projection:"mercator"}),n.current.on("load",()=>{console.log("✅ Map loaded, now fetching GeoJSON..."),fetch("".concat("/certis_agroute_app","/data/retailers.geojson?cacheBust=").concat(Date.now())).then(e=>{if(!e.ok)throw Error("HTTP ".concat(e.status));return e.json()}).then(e=>{if(!n.current)return;let r=0,t=0;for(let l of e.features){var i;(null===(i=l.properties)||void 0===i?void 0:i.Category)==="Kingpin"?r++:t++}c({kingpins:r,retailers:t}),n.current.getSource("retailers")&&(n.current.getLayer("retailer-points")&&n.current.removeLayer("retailer-points"),n.current.getLayer("kingpin-points")&&n.current.removeLayer("kingpin-points"),n.current.removeSource("retailers")),n.current.addSource("retailers",{type:"geojson",data:e}),n.current.addLayer({id:"retailer-points",type:"circle",source:"retailers",filter:["!=",["get","Category"],"Kingpin"],paint:{"circle-radius":5,"circle-color":"#FFCC00","circle-stroke-width":1,"circle-stroke-color":"#000000"}}),n.current.addLayer({id:"kingpin-points",type:"circle",source:"retailers",filter:["==",["get","Category"],"Kingpin"],paint:{"circle-radius":6,"circle-color":"#FF0000","circle-stroke-width":2,"circle-stroke-color":"#FFFF00"}}),console.log("✅ Retailer + Kingpin layers added")}).catch(e=>{console.error("❌ Failed to load GeoJSON:",e)})}))},[]),(0,i.jsxs)("div",{className:"relative w-full h-full",children:[(0,i.jsx)("div",{ref:s,className:"w-full h-full"}),(0,i.jsxs)("div",{className:"absolute bottom-2 left-2 bg-black/70 text-white text-xs px-3 py-1 rounded",children:[o.kingpins," Kingpins \xb7 ",o.retailers," Retailers"]})]})}a().accessToken="pk.eyJ1IjoiZG9jamJhaWxleTE5NzEiLCJhIjoiY21ld3lzZTNqMGQwdzJxb2lwNHpjcjNveiJ9.T2O5szdwL-O5nDF9BJmFnw";var o=t(6648);function c(){let[e,r]=(0,l.useState)([]);return(0,i.jsxs)("div",{className:"flex h-screen w-screen",children:[(0,i.jsxs)("div",{className:"w-64 bg-[#0A1E3A] text-white flex flex-col p-4",children:[(0,i.jsx)("div",{className:"flex items-center mb-4",children:(0,i.jsx)(o.default,{src:"".concat("/certis_agroute_app","/certis-logo.png"),alt:"Certis Logo",width:160,height:40,priority:!0})}),(0,i.jsx)("h1",{className:"text-lg font-bold mb-4",children:"Certis AgRoute Planner"}),(0,i.jsx)("button",{onClick:()=>{r([])},className:"bg-blue-600 hover:bg-blue-700 text-white py-2 px-4 rounded mb-4",children:"Clear All"}),["Card 1","Card 2","Card 3","Card 4","Card 5","Card 6","Card 7"].map((e,r)=>(0,i.jsx)("div",{className:"bg-[#112B57] hover:bg-[#1C3F75] rounded p-2 mb-2 cursor-pointer",children:e},r))]}),(0,i.jsx)("div",{className:"flex-1 relative",children:(0,i.jsx)(n,{selectedCategories:e,onAddStop:e=>r(r=>[...r,e])})})]})}}},e=>{var r=r=>e(e.s=r);e.O(0,[415,648,130,215,744],()=>r(2791)),_N_E=e.O()}]);