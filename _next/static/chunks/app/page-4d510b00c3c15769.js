(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{2791:(e,r,o)=>{Promise.resolve().then(o.bind(o,2212))},2212:(e,r,o)=>{"use strict";o.r(r),o.d(r,{default:()=>f});var i=o(7437),s=o(2265),t=o(7719),n=o.n(t);n().accessToken="pk.eyJ1IjoiZG9jamJhaWxleTE5NzEiLCJhIjoiY21ld3lzZTNqMGQwdzJxb2lwNHpjcjNveiJ9.T2O5szdwL-O5nDF9BJmFnw";let c={Agronomy:{color:"#1f77b4",stroke:"#ffffff",size:5},"Agronomy/Grain":{color:"#1f77b4",stroke:"#ffffff",size:5},Kingpin:{color:"#ff0000",stroke:"#ffff00",size:7},"Office/Service":{color:"#008080",stroke:"#ffffff",size:5},Grain:{color:"#ffd700",stroke:"#000000",size:5},"Grain/Feed":{color:"#ffd700",stroke:"#000000",size:5},Distribution:{color:"#000000",stroke:"#ffffff",size:5}};function a(e){let{selectedCategories:r,onAddStop:o}=e,t=(0,s.useRef)(null),a=(0,s.useRef)(null);return(0,s.useEffect)(()=>{a.current||(a.current=new(n()).Map({container:t.current,style:"mapbox://styles/mapbox/satellite-streets-v12",center:[-93.5,41.5],zoom:5,projection:"mercator"}),a.current.on("load",()=>{fetch("".concat("/certis_agroute_app","/data/retailers.geojson?cacheBust=").concat(Date.now())).then(e=>e.json()).then(e=>{a.current&&(a.current.getSource("retailers")&&(a.current.removeLayer("retailer-points"),a.current.removeSource("retailers")),a.current.addSource("retailers",{type:"geojson",data:e}),a.current.addLayer({id:"retailer-points",type:"circle",source:"retailers",paint:{"circle-radius":["case",["==",["get","category"],"Kingpin"],c.Kingpin.size,["match",["get","category"],"Agronomy",c.Agronomy.size,"Agronomy/Grain",c["Agronomy/Grain"].size,"Office/Service",c["Office/Service"].size,"Grain",c.Grain.size,"Grain/Feed",c["Grain/Feed"].size,"Distribution",c.Distribution.size,5]],"circle-color":["match",["get","category"],"Kingpin",c.Kingpin.color,"Agronomy",c.Agronomy.color,"Agronomy/Grain",c["Agronomy/Grain"].color,"Office/Service",c["Office/Service"].color,"Grain",c.Grain.color,"Grain/Feed",c["Grain/Feed"].color,"Distribution",c.Distribution.color,"#cccccc"],"circle-stroke-color":["match",["get","category"],"Kingpin",c.Kingpin.stroke,"Agronomy",c.Agronomy.stroke,"Agronomy/Grain",c["Agronomy/Grain"].stroke,"Office/Service",c["Office/Service"].stroke,"Grain",c.Grain.stroke,"Grain/Feed",c["Grain/Feed"].stroke,"Distribution",c.Distribution.stroke,"#000000"],"circle-stroke-width":2}}))})}))},[]),(0,i.jsx)("div",{ref:t,className:"w-full h-full"})}var l=o(6648);function f(){let[e,r]=(0,s.useState)([]),o=e=>{"Kingpin"!==e&&r(r=>r.includes(e)?r.filter(r=>r!==e):[...r,e])},t=Object.keys(c);return(0,i.jsxs)("div",{className:"flex h-screen",children:[(0,i.jsxs)("div",{className:"w-64 bg-gray-100 dark:bg-gray-900 p-4 overflow-y-auto",children:[(0,i.jsx)("div",{className:"flex items-center mb-6",children:(0,i.jsx)(l.default,{src:"".concat("/certis_agroute_app","/certis-logo.png"),alt:"Certis Logo",width:160,height:50})}),(0,i.jsx)("h2",{className:"text-lg font-bold mb-2",children:"Categories"}),(0,i.jsx)("ul",{children:t.map(r=>{let s=c[r].color,t=c[r].stroke,n="Kingpin"===r;return(0,i.jsxs)("li",{className:"flex items-center mb-2",children:[(0,i.jsx)("input",{type:"checkbox",checked:n||e.includes(r),onChange:()=>o(r),disabled:n,className:"mr-2"}),(0,i.jsx)("span",{className:"w-4 h-4 mr-2 rounded-full border",style:{backgroundColor:s,borderColor:t}}),(0,i.jsxs)("span",{className:n?"font-bold text-red-600":"",children:[r,n&&" (always visible)"]})]},r)})})]}),(0,i.jsx)("div",{className:"flex-1",children:(0,i.jsx)(a,{selectedCategories:e,onAddStop:e=>console.log("Added stop:",e)})})]})}}},e=>{var r=r=>e(e.s=r);e.O(0,[415,648,130,215,744],()=>r(2791)),_N_E=e.O()}]);