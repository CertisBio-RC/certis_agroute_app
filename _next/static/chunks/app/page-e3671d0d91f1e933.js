(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{2791:(e,r,t)=>{Promise.resolve().then(t.bind(t,2212))},2212:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>i});var l=t(7437),s=t(2265),o=t(6648),c=t(7719),a=t.n(c);function n(e){let{selectedCategories:r,onAddStop:t}=e,o=(0,s.useRef)(null),c=(0,s.useRef)(null);return(0,s.useEffect)(()=>{c.current||(c.current=new(a()).Map({container:o.current,style:"mapbox://styles/mapbox/satellite-streets-v12",center:[-93.5,41.5],zoom:5,projection:"mercator"}),c.current.on("load",()=>{console.log("✅ Map loaded");let e="".concat("/certis_agroute_app","/data/retailers.geojson?cacheBust=").concat(Date.now());console.log("\uD83C\uDF10 Fetching GeoJSON from:",e),fetch(e).then(e=>{if(!e.ok)throw Error("HTTP ".concat(e.status," ").concat(e.statusText));return e.json()}).then(e=>{console.log("\uD83D\uDCE6 GeoJSON loaded:",e),c.current&&(c.current.getSource("retailers")&&(c.current.removeLayer("retailer-points"),c.current.removeSource("retailers")),c.current.addSource("retailers",{type:"geojson",data:e}),c.current.addLayer({id:"retailer-points",type:"circle",source:"retailers",paint:{"circle-radius":5,"circle-color":"#FFCC00","circle-stroke-width":1,"circle-stroke-color":"#000"}}),console.log("✅ Retailer points layer added"))}).catch(e=>{console.error("❌ Failed to load GeoJSON:",e)})}))},[]),(0,l.jsx)("div",{ref:o,className:"w-full h-full"})}function i(){let[e,r]=(0,s.useState)([]);return(0,l.jsxs)("div",{className:"flex h-screen",children:[(0,l.jsxs)("div",{className:"w-64 bg-slate-900 text-white flex flex-col",children:[(0,l.jsxs)("div",{className:"flex items-center p-4",children:[(0,l.jsx)(o.default,{src:"".concat("/certis_agroute_app","/certislogo.png"),alt:"Certis Logo",width:40,height:40,className:"mr-2"}),(0,l.jsx)("h1",{className:"font-bold",children:"Certis AgRoute Planner"})]}),(0,l.jsx)("button",{className:"bg-blue-600 hover:bg-blue-700 px-3 py-2 m-2 rounded",onClick:()=>r([]),children:"Clear All"}),(0,l.jsx)("div",{className:"flex-1 overflow-y-auto",children:[...Array(7)].map((e,r)=>(0,l.jsxs)("div",{className:"bg-slate-800 hover:bg-slate-700 p-2 m-2 rounded",children:["Card ",r+1]},r))}),(0,l.jsx)("div",{className:"p-4",children:(0,l.jsx)("button",{className:"bg-blue-600 hover:bg-blue-700 px-3 py-2 rounded w-full",children:"Optimize Trip & Export"})})]}),(0,l.jsx)("div",{className:"flex-1",children:(0,l.jsx)(n,{selectedCategories:e,onAddStop:e=>r(r=>[...r,e])})})]})}a().accessToken="pk.eyJ1IjoiZG9jamJhaWxleTE5NzEiLCJhIjoiY21ld3lzZTNqMGQwdzJxb2lwNHpjcjNveiJ9.T2O5szdwL-O5nDF9BJmFnw"}},e=>{var r=r=>e(e.s=r);e.O(0,[415,648,130,215,744],()=>r(2791)),_N_E=e.O()}]);