/* app/globals.css */
@tailwind base;
@tailwind components;
@tailwind utilities;

/* Page height safety */
html, body, #__next {
  height: 100%;
}

/* App shell: 2-column grid */
.app-shell{
  @apply mx-auto max-w-[1600px] px-4 sm:px-6 lg:px-8;
  display: grid;
  grid-template-columns: 380px minmax(0,1fr);
  gap: 1rem;
  height: calc(100svh - 56px); /* 56px header */
}

/* Sidebar */
.aside {
  @apply rounded-xl bg-[#0f141b] border border-white/10 overflow-hidden;
  display: flex;
  flex-direction: column;
  min-height: 0;      /* for proper overflow */
}
.aside-inner{
  @apply p-4 sm:p-5;
  overflow: auto;
}

/* Map panel */
.map-panel{
  @apply rounded-xl bg-black border border-white/10 overflow-hidden;
  position: relative;
  min-height: 0;  /* for child 100% height */
}
.map-fill{
  position: absolute;
  inset: 0;
}

/* Make Mapbox canvas fill */
.mapboxgl-canvas,
.mapboxgl-map {
  width: 100% !important;
  height: 100% !important;
}

/* Cards / fieldsets in the sidebar */
.block-card{
  @apply rounded-lg border border-white/10 bg-white/5 p-3 sm:p-4;
}
.block-title{
  @apply mb-2 text-sm font-semibold tracking-wide text-slate-200;
}

/* Form bits */
.select,
.input,
.button {
  @apply h-9 rounded-md border border-white/15 bg-white/5 px-3 text-sm;
}
.button {
  @apply font-medium hover:bg-white/10;
}

/* Small help text */
.help {
  @apply text-[12px] text-slate-400;
}

/* Responsive: collapse to single column on narrow screens */
@media (max-width: 1024px){
  .app-shell{
    grid-template-columns: 1fr;
    height: auto;
  }
  .map-panel{
    height: 70svh;
  }
}
